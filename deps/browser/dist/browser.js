class G{withFields(K){let W=Object.keys(this).map((Z)=>(Z in K)?K[Z]:this[Z]);return new this.constructor(...W)}}class T{static fromArray(K,W){let Z=W||new H;for(let Q=K.length-1;Q>=0;--Q)Z=new q(K[Q],Z);return Z}[Symbol.iterator](){return new t(this)}toArray(){return[...this]}atLeastLength(K){let W=this;while(K-- >0&&W)W=W.tail;return W!==void 0}hasLength(K){let W=this;while(K-- >0&&W)W=W.tail;return K===-1&&W instanceof H}countLength(){let K=this,W=0;while(K)K=K.tail,W++;return W-1}}function N(K,W){return new q(K,W)}function U(K,W){return T.fromArray(K,W)}class t{#K;constructor(K){this.#K=K}next(){if(this.#K instanceof H)return{done:!0};else{let{head:K,tail:W}=this.#K;return this.#K=W,{value:K,done:!1}}}}class H extends T{}class q extends T{constructor(K,W){super();this.head=K,this.tail=W}}class P{bitSize;byteSize;bitOffset;rawBuffer;constructor(K,W,Z){if(!(K instanceof Uint8Array))throw globalThis.Error("BitArray can only be constructed from a Uint8Array");if(this.bitSize=W??K.length*8,this.byteSize=Math.trunc((this.bitSize+7)/8),this.bitOffset=Z??0,this.bitSize<0)throw globalThis.Error(`BitArray bit size is invalid: ${this.bitSize}`);if(this.bitOffset<0||this.bitOffset>7)throw globalThis.Error(`BitArray bit offset is invalid: ${this.bitOffset}`);if(K.length!==Math.trunc((this.bitOffset+this.bitSize+7)/8))throw globalThis.Error("BitArray buffer length is invalid");this.rawBuffer=K}byteAt(K){if(K<0||K>=this.byteSize)return;return z(this.rawBuffer,this.bitOffset,K)}equals(K){if(this.bitSize!==K.bitSize)return!1;let W=Math.trunc(this.bitSize/8);if(this.bitOffset===0&&K.bitOffset===0){for(let Q=0;Q<W;Q++)if(this.rawBuffer[Q]!==K.rawBuffer[Q])return!1;let Z=this.bitSize%8;if(Z){let Q=8-Z;if(this.rawBuffer[W]>>Q!==K.rawBuffer[W]>>Q)return!1}}else{for(let Q=0;Q<W;Q++){let X=z(this.rawBuffer,this.bitOffset,Q),Y=z(K.rawBuffer,K.bitOffset,Q);if(X!==Y)return!1}let Z=this.bitSize%8;if(Z){let Q=z(this.rawBuffer,this.bitOffset,W),X=z(K.rawBuffer,K.bitOffset,W),Y=8-Z;if(Q>>Y!==X>>Y)return!1}}return!0}get buffer(){if(i("buffer","Use BitArray.byteAt() or BitArray.rawBuffer instead"),this.bitOffset!==0||this.bitSize%8!==0)throw new globalThis.Error("BitArray.buffer does not support unaligned bit arrays");return this.rawBuffer}get length(){if(i("length","Use BitArray.bitSize or BitArray.byteSize instead"),this.bitOffset!==0||this.bitSize%8!==0)throw new globalThis.Error("BitArray.length does not support unaligned bit arrays");return this.rawBuffer.length}}function z(K,W,Z){if(W===0)return K[Z]??0;else{let Q=K[Z]<<W&255,X=K[Z+1]>>8-W;return Q|X}}class L{constructor(K){this.value=K}}var s={};function i(K,W){if(s[K])return;console.warn(`Deprecated BitArray.${K} property used in JavaScript FFI code. ${W}.`),s[K]=!0}class B extends G{static isResult(K){return K instanceof B}}class J extends B{constructor(K){super();this[0]=K}isOk(){return!0}}var O=(K)=>new J(K);class M extends B{constructor(K){super();this[0]=K}isOk(){return!1}}var D=(K)=>new M(K);function I(K,W){let Z=[K,W];while(Z.length){let Q=Z.pop(),X=Z.pop();if(Q===X)continue;if(!o(Q)||!o(X))return!1;if(!LK(Q,X)||CK(Q,X)||PK(Q,X)||OK(Q,X)||DK(Q,X)||AK(Q,X)||zK(Q,X))return!1;let F=Object.getPrototypeOf(Q);if(F!==null&&typeof F.equals==="function")try{if(Q.equals(X))continue;else return!1}catch{}let[V,S]=SK(Q),C=V(Q),j=V(X);if(C.length!==j.length)return!1;for(let r of C)Z.push(S(Q,r),S(X,r))}return!0}function SK(K){if(K instanceof Map)return[(W)=>W.keys(),(W,Z)=>W.get(Z)];else{let W=K instanceof globalThis.Error?["message"]:[];return[(Z)=>[...W,...Object.keys(Z)],(Z,Q)=>Z[Q]]}}function CK(K,W){return K instanceof Date&&(K>W||K<W)}function PK(K,W){return!(K instanceof P)&&K.buffer instanceof ArrayBuffer&&K.BYTES_PER_ELEMENT&&!(K.byteLength===W.byteLength&&K.every((Z,Q)=>Z===W[Q]))}function OK(K,W){return Array.isArray(K)&&K.length!==W.length}function DK(K,W){return K instanceof Map&&K.size!==W.size}function AK(K,W){return K instanceof Set&&(K.size!=W.size||[...K].some((Z)=>!W.has(Z)))}function zK(K,W){return K instanceof RegExp&&(K.source!==W.source||K.flags!==W.flags)}function o(K){return typeof K==="object"&&K!==null}function LK(K,W){if(typeof K!=="object"&&typeof W!=="object"&&(!K||!W))return!1;if([Promise,WeakSet,WeakMap,Function].some((Q)=>K instanceof Q))return!1;return K.constructor===W.constructor}function e(K,W,Z){return K.reduceRight(Z,W)}function $(K){return e(K,U([]),(W,Z)=>{return N(Z,W)})}class w{constructor(K,W){this.size=K,this.root=W}}var BK=5,OW=(1<<BK)-1,DW=Symbol(),wK=Symbol(),EK=kK(0),xK=new w(0,EK);function hK(K,W,Z,Q){return{datamap:W,nodemap:Z,data:Q,[wK]:K}}function kK(K){return hK(K,0,0,[])}function E(){return xK}function A(K,W,Z){let Q=[K.root];while(Q.length){let X=Q.pop(),Y=X.data,F=Y.length-vK(X.nodemap);for(let V=0;V<F;V+=2)W=Z(W,Y[V],Y[V+1]);for(let V=F;V<Y.length;++V)Q.push(Y[V])}return W}function vK(K){return K-=K>>>1&1431655765,K=(K&858993459)+(K>>>2&858993459),Math.imul(K+(K>>>4)&252645135,16843009)>>>24}var MK=[" ","\t",`
`,"\v","\f","\r","","\u2028","\u2029"].join(""),MQ=new RegExp(`^[${MK}]*`),RQ=new RegExp(`[${MK}]*$`);function RK(K){let W=K.toString().replace("+","");if(W.indexOf(".")>=0)return W;else{let Z=W.indexOf("e");if(Z>=0)return W.slice(0,Z)+".0"+W.slice(Z);else return W+".0"}}class tK{#K=new Set;inspect(K){let W=typeof K;if(K===!0)return"True";if(K===!1)return"False";if(K===null)return"//js(null)";if(K===void 0)return"Nil";if(W==="string")return this.#Y(K);if(W==="bigint"||Number.isInteger(K))return K.toString();if(W==="number")return RK(K);if(K instanceof L)return this.#J(K);if(K instanceof P)return this.#H(K);if(K instanceof RegExp)return`//js(${K})`;if(K instanceof Date)return`//js(Date("${K.toISOString()}"))`;if(K instanceof globalThis.Error)return`//js(${K.toString()})`;if(K instanceof Function){let Q=[];for(let X of Array(K.length).keys())Q.push(String.fromCharCode(X+97));return`//fn(${Q.join(", ")}) { ... }`}if(this.#K.size===this.#K.add(K).size)return"//js(circular reference)";let Z;if(Array.isArray(K))Z=`#(${K.map((Q)=>this.inspect(Q)).join(", ")})`;else if(K instanceof T)Z=this.#X(K);else if(K instanceof G)Z=this.#Q(K);else if(K instanceof w)Z=this.#Z(K);else if(K instanceof Set)return`//js(Set(${[...K].map((Q)=>this.inspect(Q)).join(", ")}))`;else Z=this.#W(K);return this.#K.delete(K),Z}#W(K){let W=Object.getPrototypeOf(K)?.constructor?.name||"Object",Z=[];for(let Y of Object.keys(K))Z.push(`${this.inspect(Y)}: ${this.inspect(K[Y])}`);let Q=Z.length?" "+Z.join(", ")+" ":"";return`//js(${W==="Object"?"":W+" "}{${Q}})`}#Z(K){let W="dict.from_list([",Z=!0;return W=A(K,W,(Q,X,Y)=>{if(!Z)Q=Q+", ";return Z=!1,Q+"#("+this.inspect(X)+", "+this.inspect(Y)+")"}),W+"])"}#Q(K){let W=Object.keys(K).map((Z)=>{let Q=this.inspect(K[Z]);return isNaN(parseInt(Z))?`${Z}: ${Q}`:Q}).join(", ");return W?`${K.constructor.name}(${W})`:K.constructor.name}#X(K){if(K instanceof H)return"[]";let W='charlist.from_string("',Z="[",Q=K;while(Q instanceof q){let X=Q.head;if(Q=Q.tail,Z!=="[")Z+=", ";if(Z+=this.inspect(X),W)if(Number.isInteger(X)&&X>=32&&X<=126)W+=String.fromCharCode(X);else W=null}if(W)return W+'")';else return Z+"]"}#Y(K){let W='"';for(let Z=0;Z<K.length;Z++){let Q=K[Z];switch(Q){case`
`:W+="\\n";break;case"\r":W+="\\r";break;case"\t":W+="\\t";break;case"\f":W+="\\f";break;case"\\":W+="\\\\";break;case'"':W+="\\\"";break;default:if(Q<" "||Q>"~"&&Q<" ")W+="\\u{"+Q.charCodeAt(0).toString(16).toUpperCase().padStart(4,"0")+"}";else W+=Q}}return W+='"',W}#J(K){return`//utfcodepoint(${String.fromCodePoint(K.value)})`}#H(K){if(K.bitSize===0)return"<<>>";let W="<<";for(let Z=0;Z<K.byteSize-1;Z++)W+=K.byteAt(Z).toString(),W+=", ";if(K.byteSize*8===K.bitSize)W+=K.byteAt(K.byteSize-1).toString();else{let Z=K.bitSize%8;W+=K.byteAt(K.byteSize-1)>>8-Z,W+=`:size(${Z})`}return W+=">>",W}}function FK(K,W){while(!0){let Z=K,Q=W;if(Z instanceof H)return new M(void 0);else{let{head:X,tail:Y}=Z;if(Q(X))return new J(X);else K=Y,W=Q}}}function p(K,W){if(K instanceof J){let Z=K[0];return W(Z)}else return K}function GK(K,W){if(K instanceof J)return K[0];else return W}function n(K){return Array.from(document.querySelectorAll(K))}function l(K,W){let Z=K.getAttribute(W);if(Z)return O(Z);return D()}function a(K,W){if(W in K.dataset)return O(K.dataset[W]);return D(void 0)}async function NK(K){let W=Intl.DateTimeFormat().resolvedOptions().timeZone,Z=Intl.DateTimeFormat().resolvedOptions().locale,Q={time_zone:W,locale:Z};console.log(K);let X=`/${K}/user_client_info`;return console.log(X),console.log(Q),fetch(X,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Q)}).catch((Y)=>console.error("`put_user_client_info` failed:",Y))}function JW(){let K=p((()=>{let W=n("meta"),Z=$(W);return FK(Z,(Q)=>{let X;return X=l(Q,"name"),I(X,new J("no-user-client-info"))})})(),(W)=>{return jK(W,void 0,"src/browser.gleam",22),p(a(W,"path_prefix"),(Z)=>{return jK(Z,void 0,"src/browser.gleam",28),new J(NK(Z))})});return GK(K,void 0)}function qK(){return JW()}function jK(K,W,Z,Q){let F=`${Z}:${Q}`,S=new IK().inspect(K),C=W===void 0?"":" "+W;if(globalThis.process?.stderr?.write){let j=`\x1B[90m${F}\x1B[39m${C}
${S}
`;globalThis.process.stderr.write(j)}else if(globalThis.Deno){let j=`\x1B[90m${F}\x1B[39m${C}
${S}
`;globalThis.Deno.stderr.writeSync(new TextEncoder().encode(j))}else{let j=`${F}${C}
${S}`;globalThis.console.log(j)}return K}class IK{#K=new globalThis.Set;#W(K){try{let Z=E().constructor;return K instanceof Z}catch{return!1}}#Z(K){let W=K.toString().replace("+","");if(W.indexOf(".")>=0)return W;else{let Z=W.indexOf("e");if(Z>=0)return W.slice(0,Z)+".0"+W.slice(Z);else return W+".0"}}inspect(K){let W=typeof K;if(K===!0)return"True";if(K===!1)return"False";if(K===null)return"//js(null)";if(K===void 0)return"Nil";if(W==="string")return this.#H(K);if(W==="bigint"||globalThis.Number.isInteger(K))return K.toString();if(W==="number")return this.#Z(K);if(K instanceof L)return this.#M(K);if(K instanceof P)return this.#R(K);if(K instanceof globalThis.RegExp)return`//js(${K})`;if(K instanceof globalThis.Date)return`//js(Date("${K.toISOString()}"))`;if(K instanceof globalThis.Error)return`//js(${K.toString()})`;if(K instanceof globalThis.Function){let Q=[];for(let X of globalThis.Array(K.length).keys())Q.push(globalThis.String.fromCharCode(X+97));return`//fn(${Q.join(", ")}) { ... }`}if(this.#K.size===this.#K.add(K).size)return"//js(circular reference)";let Z;if(globalThis.Array.isArray(K))Z=`#(${K.map((Q)=>this.inspect(Q)).join(", ")})`;else if(K instanceof T)Z=this.#J(K);else if(K instanceof G)Z=this.#Y(K);else if(this.#W(K))Z=this.#X(K);else if(K instanceof Set)return`//js(Set(${[...K].map((Q)=>this.inspect(Q)).join(", ")}))`;else Z=this.#Q(K);return this.#K.delete(K),Z}#Q(K){let W=globalThis.Object.getPrototypeOf(K)?.constructor?.name||"Object",Z=[];for(let Y of globalThis.Object.keys(K))Z.push(`${this.inspect(Y)}: ${this.inspect(K[Y])}`);let Q=Z.length?" "+Z.join(", ")+" ":"";return`//js(${W==="Object"?"":W+" "}{${Q}})`}#X(K){let W="dict.from_list([",Z=!0,Q=A(K,[],(X,Y,F)=>{return X.push([Y,F]),X});return Q.sort(),Q.forEach(([X,Y])=>{if(!Z)W=W+", ";W=W+"#("+this.inspect(X)+", "+this.inspect(Y)+")",Z=!1}),W+"])"}#Y(K){let W=globalThis.Object.keys(K).map((Z)=>{let Q=this.inspect(K[Z]);return isNaN(parseInt(Z))?`${Z}: ${Q}`:Q}).join(", ");return W?`${K.constructor.name}(${W})`:K.constructor.name}#J(K){if(K instanceof H)return"[]";let W='charlist.from_string("',Z="[",Q=K;while(Q instanceof q){let X=Q.head;if(Q=Q.tail,Z!=="[")Z+=", ";if(Z+=this.inspect(X),W)if(globalThis.Number.isInteger(X)&&X>=32&&X<=126)W+=globalThis.String.fromCharCode(X);else W=null}if(W)return W+'")';else return Z+"]"}#H(K){let W='"';for(let Z=0;Z<K.length;Z++){let Q=K[Z];switch(Q){case`
`:W+="\\n";break;case"\r":W+="\\r";break;case"\t":W+="\\t";break;case"\f":W+="\\f";break;case"\\":W+="\\\\";break;case'"':W+="\\\"";break;default:if(Q<" "||Q>"~"&&Q<" ")W+="\\u{"+Q.charCodeAt(0).toString(16).toUpperCase().padStart(4,"0")+"}";else W+=Q}}return W+='"',W}#M(K){return`//utfcodepoint(${globalThis.String.fromCodePoint(K.value)})`}#R(K){if(K.bitSize===0)return"<<>>";let W="<<";for(let Z=0;Z<K.byteSize-1;Z++)W+=K.byteAt(Z).toString(),W+=", ";if(K.byteSize*8===K.bitSize)W+=K.byteAt(K.byteSize-1).toString();else{let Z=K.bitSize%8;W+=K.byteAt(K.byteSize-1)>>8-Z,W+=`:size(${Z})`}return W+=">>",W}}qK();
