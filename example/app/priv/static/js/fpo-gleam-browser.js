class G{withFields(K){let Z=Object.keys(this).map((Q)=>(Q in K)?K[Q]:this[Q]);return new this.constructor(...Z)}}class j{static fromArray(K,Z){let Q=Z||new M;for(let W=K.length-1;W>=0;--W)Q=new O(K[W],Q);return Q}[Symbol.iterator](){return new a(this)}toArray(){return[...this]}atLeastLength(K){let Z=this;while(K-- >0&&Z)Z=Z.tail;return Z!==void 0}hasLength(K){let Z=this;while(K-- >0&&Z)Z=Z.tail;return K===-1&&Z instanceof M}countLength(){let K=this,Z=0;while(K)K=K.tail,Z++;return Z-1}}function T(K,Z){return new O(K,Z)}function V(K,Z){return j.fromArray(K,Z)}class a{#K;constructor(K){this.#K=K}next(){if(this.#K instanceof M)return{done:!0};else{let{head:K,tail:Z}=this.#K;return this.#K=Z,{value:K,done:!1}}}}class M extends j{}class O extends j{constructor(K,Z){super();this.head=K,this.tail=Z}}class D{bitSize;byteSize;bitOffset;rawBuffer;constructor(K,Z,Q){if(!(K instanceof Uint8Array))throw globalThis.Error("BitArray can only be constructed from a Uint8Array");if(this.bitSize=Z??K.length*8,this.byteSize=Math.trunc((this.bitSize+7)/8),this.bitOffset=Q??0,this.bitSize<0)throw globalThis.Error(`BitArray bit size is invalid: ${this.bitSize}`);if(this.bitOffset<0||this.bitOffset>7)throw globalThis.Error(`BitArray bit offset is invalid: ${this.bitOffset}`);if(K.length!==Math.trunc((this.bitOffset+this.bitSize+7)/8))throw globalThis.Error("BitArray buffer length is invalid");this.rawBuffer=K}byteAt(K){if(K<0||K>=this.byteSize)return;return I(this.rawBuffer,this.bitOffset,K)}equals(K){if(this.bitSize!==K.bitSize)return!1;let Z=Math.trunc(this.bitSize/8);if(this.bitOffset===0&&K.bitOffset===0){for(let W=0;W<Z;W++)if(this.rawBuffer[W]!==K.rawBuffer[W])return!1;let Q=this.bitSize%8;if(Q){let W=8-Q;if(this.rawBuffer[Z]>>W!==K.rawBuffer[Z]>>W)return!1}}else{for(let W=0;W<Z;W++){let X=I(this.rawBuffer,this.bitOffset,W),Y=I(K.rawBuffer,K.bitOffset,W);if(X!==Y)return!1}let Q=this.bitSize%8;if(Q){let W=I(this.rawBuffer,this.bitOffset,Z),X=I(K.rawBuffer,K.bitOffset,Z),Y=8-Q;if(W>>Y!==X>>Y)return!1}}return!0}get buffer(){if(l("buffer","Use BitArray.byteAt() or BitArray.rawBuffer instead"),this.bitOffset!==0||this.bitSize%8!==0)throw new globalThis.Error("BitArray.buffer does not support unaligned bit arrays");return this.rawBuffer}get length(){if(l("length","Use BitArray.bitSize or BitArray.byteSize instead"),this.bitOffset!==0||this.bitSize%8!==0)throw new globalThis.Error("BitArray.length does not support unaligned bit arrays");return this.rawBuffer.length}}function I(K,Z,Q){if(Z===0)return K[Q]??0;else{let W=K[Q]<<Z&255,X=K[Q+1]>>8-Z;return W|X}}class f{constructor(K){this.value=K}}var n={};function l(K,Z){if(n[K])return;console.warn(`Deprecated BitArray.${K} property used in JavaScript FFI code. ${Z}.`),n[K]=!0}class q extends G{static isResult(K){return K instanceof q}}class J extends q{constructor(K){super();this[0]=K}isOk(){return!0}}var C=(K)=>new J(K);class H extends q{constructor(K){super();this[0]=K}isOk(){return!1}}var P=(K)=>new H(K);function N(K,Z){let Q=[K,Z];while(Q.length){let W=Q.pop(),X=Q.pop();if(W===X)continue;if(!r(W)||!r(X))return!1;if(!PK(W,X)||NK(W,X)||jK(W,X)||IK(W,X)||OK(W,X)||qK(W,X)||CK(W,X))return!1;let U=Object.getPrototypeOf(W);if(U!==null&&typeof U.equals==="function")try{if(W.equals(X))continue;else return!1}catch{}let[F,c]=TK(W),d=F(W),UK=F(X);if(d.length!==UK.length)return!1;for(let p of d)Q.push(c(W,p),c(X,p))}return!0}function TK(K){if(K instanceof Map)return[(Z)=>Z.keys(),(Z,Q)=>Z.get(Q)];else{let Z=K instanceof globalThis.Error?["message"]:[];return[(Q)=>[...Z,...Object.keys(Q)],(Q,W)=>Q[W]]}}function NK(K,Z){return K instanceof Date&&(K>Z||K<Z)}function jK(K,Z){return!(K instanceof D)&&K.buffer instanceof ArrayBuffer&&K.BYTES_PER_ELEMENT&&!(K.byteLength===Z.byteLength&&K.every((Q,W)=>Q===Z[W]))}function IK(K,Z){return Array.isArray(K)&&K.length!==Z.length}function OK(K,Z){return K instanceof Map&&K.size!==Z.size}function qK(K,Z){return K instanceof Set&&(K.size!=Z.size||[...K].some((Q)=>!Z.has(Q)))}function CK(K,Z){return K instanceof RegExp&&(K.source!==Z.source||K.flags!==Z.flags)}function r(K){return typeof K==="object"&&K!==null}function PK(K,Z){if(typeof K!=="object"&&typeof Z!=="object"&&(!K||!Z))return!1;if([Promise,WeakSet,WeakMap,Function].some((W)=>K instanceof W))return!1;return K.constructor===Z.constructor}function s(K,Z,Q){return K.reduceRight(Q,Z)}function b(K){return s(K,V([]),(Z,Q)=>{return T(Q,Z)})}function i(K,Z,Q){if(K)return Z;else return Q()}class z{constructor(K,Z){this.size=K,this.root=Z}}var DK=5,VZ=(1<<DK)-1,UZ=Symbol(),TZ=Symbol();function L(K,Z,Q){let W=[K.root];while(W.length){let X=W.pop(),Y=X.data,U=Y.length-AK(X.nodemap);for(let F=0;F<U;F+=2)Z=Q(Z,Y[F],Y[F+1]);for(let F=U;F<Y.length;++F)W.push(Y[F])}return Z}function AK(K){return K-=K>>>1&1431655765,K=(K&858993459)+(K>>>2&858993459),Math.imul(K+(K>>>4)&252645135,16843009)>>>24}var YK=[" ","\t",`
`,"\v","\f","\r","","\u2028","\u2029"].join(""),KW=new RegExp(`^[${YK}]*`),ZW=new RegExp(`[${YK}]*$`);function JK(K){let Z=K.toString().replace("+","");if(Z.indexOf(".")>=0)return Z;else{let Q=Z.indexOf("e");if(Q>=0)return Z.slice(0,Q)+".0"+Z.slice(Q);else return Z+".0"}}class dK{#K=new Set;inspect(K){let Z=typeof K;if(K===!0)return"True";if(K===!1)return"False";if(K===null)return"//js(null)";if(K===void 0)return"Nil";if(Z==="string")return this.#Y(K);if(Z==="bigint"||Number.isInteger(K))return K.toString();if(Z==="number")return JK(K);if(K instanceof f)return this.#J(K);if(K instanceof D)return this.#M(K);if(K instanceof RegExp)return`//js(${K})`;if(K instanceof Date)return`//js(Date("${K.toISOString()}"))`;if(K instanceof globalThis.Error)return`//js(${K.toString()})`;if(K instanceof Function){let W=[];for(let X of Array(K.length).keys())W.push(String.fromCharCode(X+97));return`//fn(${W.join(", ")}) { ... }`}if(this.#K.size===this.#K.add(K).size)return"//js(circular reference)";let Q;if(Array.isArray(K))Q=`#(${K.map((W)=>this.inspect(W)).join(", ")})`;else if(K instanceof j)Q=this.#X(K);else if(K instanceof G)Q=this.#W(K);else if(K instanceof z)Q=this.#Q(K);else if(K instanceof Set)return`//js(Set(${[...K].map((W)=>this.inspect(W)).join(", ")}))`;else Q=this.#Z(K);return this.#K.delete(K),Q}#Z(K){let Z=Object.getPrototypeOf(K)?.constructor?.name||"Object",Q=[];for(let Y of Object.keys(K))Q.push(`${this.inspect(Y)}: ${this.inspect(K[Y])}`);let W=Q.length?" "+Q.join(", ")+" ":"";return`//js(${Z==="Object"?"":Z+" "}{${W}})`}#Q(K){let Z="dict.from_list([",Q=!0;return Z=L(K,Z,(W,X,Y)=>{if(!Q)W=W+", ";return Q=!1,W+"#("+this.inspect(X)+", "+this.inspect(Y)+")"}),Z+"])"}#W(K){let Z=Object.keys(K).map((Q)=>{let W=this.inspect(K[Q]);return isNaN(parseInt(Q))?`${Q}: ${W}`:W}).join(", ");return Z?`${K.constructor.name}(${Z})`:K.constructor.name}#X(K){if(K instanceof M)return"[]";let Z='charlist.from_string("',Q="[",W=K;while(W instanceof O){let X=W.head;if(W=W.tail,Q!=="[")Q+=", ";if(Q+=this.inspect(X),Z)if(Number.isInteger(X)&&X>=32&&X<=126)Z+=String.fromCharCode(X);else Z=null}if(Z)return Z+'")';else return Q+"]"}#Y(K){let Z='"';for(let Q=0;Q<K.length;Q++){let W=K[Q];switch(W){case`
`:Z+="\\n";break;case"\r":Z+="\\r";break;case"\t":Z+="\\t";break;case"\f":Z+="\\f";break;case"\\":Z+="\\\\";break;case'"':Z+="\\\"";break;default:if(W<" "||W>"~"&&W<" ")Z+="\\u{"+W.charCodeAt(0).toString(16).toUpperCase().padStart(4,"0")+"}";else Z+=W}}return Z+='"',Z}#J(K){return`//utfcodepoint(${String.fromCodePoint(K.value)})`}#M(K){if(K.bitSize===0)return"<<>>";let Z="<<";for(let Q=0;Q<K.byteSize-1;Q++)Z+=K.byteAt(Q).toString(),Z+=", ";if(K.byteSize*8===K.bitSize)Z+=K.byteAt(K.byteSize-1).toString();else{let Q=K.bitSize%8;Z+=K.byteAt(K.byteSize-1)>>8-Q,Z+=`:size(${Q})`}return Z+=">>",Z}}function MK(K,Z){while(!0){let Q=K,W=Z;if(Q instanceof M)return!1;else{let{head:X,tail:Y}=Q,U=W(X);if(U)return U;else K=Y,Z=W}}}function u(K){return Array.from(document.querySelectorAll(K))}function $(K,Z){let Q=K.getAttribute(Z);if(Q)return C(Q);return P()}async function GK(){let K=Intl.DateTimeFormat().resolvedOptions().timeZone,Z=Intl.DateTimeFormat().resolvedOptions().locale;return fetch("/_user_client_info",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({time_zone:K,locale:Z})}).catch((W)=>console.error("`put_user_client_info` failed:",W))}function iK(){let K,Z=u("meta"),Q=b(Z);return K=MK(Q,(X)=>{let Y;return Y=$(X,"name"),N(Y,new J("no-user-client-info"))}),i(!K,void 0,()=>{GK();return})}function VK(){return iK()}VK();
